---
title: "The Impact of Past Behavior Normality on Regret: A Replication Study"
subtitle: "Reproduction of 'The Puzzle of Falling US Birth Rates since the Great Recession' (Kearney, Levine & Pardue, 2022)"
author: Heng Ma & Bolin Shen
thanks: "Code and data are available at: https://github.com/Brian031205/paper_2.git. A replication of various aspects in this paper are available at: ______________    "
date: "`r format(Sys.time(), '%d %B %Y')`"
abstract: "Norm theory (Kahneman & Miller 1986) described a tendency for people to associate stronger regret with a negative outcome when it is a result of an exception (abnormal behavior) compared to when it is a result of routine (normal behavior). In this paper, we conducted a replication of one classic experiments on past behavior exception/routine contrasts. We successfully replicated Kahneman and Miller’s (1986) experiments with the classic hitchhiker-scenario (Part 1) and car accident-scenario (Part 2). In both cases, participants examined negative outcomes and tended to indicate a protagonist who deviated from own past behavior as more regretful than another who followed routine. In robbery scenario experiments using compensatory measures (Part 3), there is no significant difference between special and regular situations in the compensation comparison of robbery victims. However, it is showed that robberies in exceptional circumstances are considered more regrettable than robberies in regular circumstances. We discuss implications for current and future research."
output:
  bookdown::pdf_document2
toc: TRUE
bibliography: references.bib
---

```{r setup, include=FALSE}


# Load libraries
if(!require(Rcpp)){install.packages('Rcpp', dependencies = TRUE)}
#if(!require(jmv)){install.packages('jmv', repos=c('https://repo.jamovi.org', 'https://cran.r-project.org'))}
if(!require(jmv)){install.packages('jmv', dependencies = TRUE)}
if(!require(rstudioapi)){install.packages('rstudioapi', dependencies = TRUE)}
if(!require(effsize)){install.packages('effsize', dependencies = TRUE)}
if(!require(Hmisc)){install.packages('effsize', dependencies = TRUE)}
if(!require(psych)){install.packages('psych', dependencies = TRUE)}
if(!require(ggplot2)){install.packages('ggplot2', dependencies = TRUE)}
if(!require(dplyr)){install.packages('dplyr', dependencies = TRUE)}
if(!require(MBESS)){install.packages('MBESS', dependencies = TRUE)}
if(!require(knitr)){install.packages('knitr', dependencies = TRUE)}
if(!require(jtools)){install.packages('jtools', dependencies = TRUE)}

library(jtools)
library(knitr)
library(MBESS)
library(psych)
library(ggplot2)
library(dplyr) 
library(Hmisc)
library(effsize)
library(rstudioapi)
library(jmv)
library(Rcpp)

# Read in data

```

# Introduction

Regret, a pervasive and intense negative emotion, plays a pivotal role in shaping individuals' daily experiences. The recognition that other decisions or circumstances could have led to more favorable outcomes triggers regret (Byrne, 2016; Roese & Epstude, 2017; Kahneman & Tversky, 1982). Influential work by Kahneman and Miller (1986) in norm theory has highlighted the connection between abnormal behavior, heightened counterfactual thinking, and intensified feelings of regret. Their discussion of the concept of normality included experimental research illustrating various factors influencing the perception and interpretation of normality (Feldman & Albarracín, 2017; Feldman, 2018). This approach often employed past behavior as a reference point to assess the normality of an individual's actions.
 
Illustrating the effect of past behavior normality, Kahneman and Miller (1986) presented a thought experiment involving a car accident. Mr. White, accustomed to driving home along the same route daily, deviated from his routine one day and found himself in an accident. 82% of participants believed that Mr. White would experience more regret than those involved in similar accidents on his usual route. This bias referenced as the "exceptionality effect," serves as a basis for this study, emphasizing the regularity of past behavior.
 
Kahneman and Miller's (1986) norm theory provides a psychological classification of events as normal or abnormal, assuming that abnormal events elicit stronger reactions because of the increased accessibility of normal events in memory. This high availability of psychologically simulated alternatives intensifies regret over negative outcomes. Everyday behaviors, more easily recalled and psychologically emphasized, enable individuals to vividly imagine counterfactual scenarios in exceptional circumstances, thus amplifying the regret associated with deviations from past behavior (Kahneman & Miller 1986).
 
This study aims to directly replicate three experiments that demonstrated the exceptionality effect, representing early investigations into the influence of past behavior normality on regret. Specifically, we investigate hitchhiking and car accident scenarios from Kahneman and Miller (1986) in the first two part and replicate Miller and McFarland's (1986) Experiment 1, featuring a robbery scenario, in the third part to test norm theory. There are three research questions: for hitchhiking scenarios from Kahneman and Miller (1986), we investigated the proportion for perceived regret, injunctive social norms, descriptive social norms, and negative affect. For car accident scenario, we studied the proportion for perceived regret and luck. And for the scenario of robbery, we investigated victim compensation and regret (with exception conditions combined). Although there is no documented direct replication of these experiments, the existing citation impact of Kahneman and Miller's work emphasizes the significance of a reexamination and detailed explanation of these effects. The study's findings are expected to contribute to a better understanding of the general nature of the exceptionality effect and the intricate influence of past behavior normality on regret. 

we use R [@citeR] for all data wrangling and analysis and R packages tidyverse [@tidy], ggthemes [@ggthemes], ggprism [@ggprism] and patchwork [@patchwork] to produce the figures, kableExtra [@kableExtra] to produce the tables.

# Data
The data we used in this paper are obtained from the paper titled “The impact of past behavior normality on regret: replication and extension of three experiments of the exceptionality effect” (Kutscher & Feldman 2022). We first cleaned the data, and then analyzed them by the open-source statistical programming language R (R Core Team 2022). We used functionalities from tidyverse (Wickham et al. 2019), ggplot2 (Wickham 2016), dplyr (Wickham et al. 2022), readr (Wickham, Hester, and Bryan 2022), tibble (Müller and Wickham 2022), janitor (Firke 2021) and knitr (Xie 2014).


## Proportion for perceived regret, injunctive social norms, descriptive social norms, and negative affect
The first figure presents an overview of the perceived regret, injunctive social norms, descriptive social norms, and negative affect proportions associated with the behaviors of Mr. Smith (routine) and Mr. Jones (exception). In terms of regret, the figure highlights an obvious contrast, with Mr. Smith at 7.9% and Mr. Jones at a much higher 92.1%. A similar pattern emerges for injunctive social norms, where Mr. Smith scores 4.7%, contrasting sharply with Mr. Jones at 95.3%. Descriptive social norms show an obvious preference for routine behavior, as reflected in Mr. Smith's 90.6%, while Mr. Jones lags behind at 9.4%. Negative affect follows a parallel trend, with Mr. Smith at 7.3% and Mr. Jones at 92.7%. This figure vividly illustrates the remarkable differences in perceptions between routine and exceptional behaviors, emphasizing the notable impact on regret and social norm evaluations.
 

## Proportion for perceived regret and luck
Figure 2, titled "Proportions for Perceived Regret and Luck," provides a clear visual representation of the contrasts in perceived regret and luck between the behaviors of Mr. Adams (routine) and Mr. White (exception). The data shows a large difference in regret percentages, with Mr. Adams scoring at 19%, while Mr. White gets a significantly higher 81%. The figure also reveals the aspect of luck, where Mr. Adams has a proportion of 33.3%, distinctly lower than Mr. White, who gets a larger share at 66.7%. This figure effectively demonstrates the difference in perceptions regarding regret and luck associated with routine and exceptional behaviors, revealing the dynamic relationship between these two factors in the participants' evaluations of the scenarios described.

## Victim compensation and regret (with exception conditions combined)
The last figure titled "Victim Compensation and Regret (with Exception Conditions Combined)," presents an overview of two experiments, each with routine and exception conditions. The top two plots correspond to Experiment 1, while the bottom two plots represent Experiment 2, with error bars indicating standard errors. The scales range from 1 to 5 for compensation and 1 to 10 for regret. In Experiment 1, the routine condition includes 114 participants, with standard deviations of 2.37 for compensation and 1.12 for regret. The self-produced exception condition involves 115 participants, with standard deviations of 2.46 for compensation and 0.80 for regret. For the other-produced exception condition (113 participants), standard deviations are 2.76 for compensation and 0.94 for regret. Combining all exception conditions (228 participants) gets standard deviations of 2.61 for compensation and 0.87 for regret. In Experiment 2, routine conditions involve 116 participants, with standard deviations of 3.40 for compensation and 1.19 for regret. The self-produced exception condition (110 participants) shows standard deviations of 3.50 for compensation and 0.67 for regret. The other-produced exception condition (116 participants) has standard deviations of 3.66 for compensation and 0.98 for regret. Combining all exception conditions (226 participants) results in standard deviations of 3.57 for compensation and 0.86 for regret. These detailed data provide an understanding of victim compensation and regret across various experimental conditions.


For the aggregated cohort birth data, the variables are mother's age, birth cohort, number of births and cumulative births. The population data provided by @og gives the population count for women by age, year and state. We group the population count by cohort and mother's age and join this to the cohort birth data, with the first 10 rows of this data shown in table \@ref(tab:birthcohort). We also added a column with the birth years for each cohort for easier interpretation.



# Results

## Overall evaluation in regre depending hitchhiker scenario


Figure \@ref(fig:fig1) is a replication of Figure 1 in the original paper, In this section, participants evaluated a classic scenario known as the hitchhiker scenario, to assess the impact of past behavior on the perception of regret following negative outcomes. 92% of the 315 participants believed that Mr. Jones, who almost never gives rides to others, felt a stronger sense of regret. The majority of participants believed that Mr. Jones, who almost never picks up hitchhikers, exhibits behavior that is more common in society (95% out of 326 respondents), whereas Mr. Smith, who frequently gives rides to hitchhikers, is more likely to be criticized by society (91% out of 310 respondents). For the assessment of negative affect, 93% of people believed that Mr. Jones experienced more negative affect compared to Mr. Smith. Overall, these two experiments provided very close replications, similar to the the original study.   


```{r fig1, echo=FALSE, warning=FALSE, message=FALSE, fig.cap="Rates for Regret, Social norms and Negative affect"}
data1 <- read.csv("/cloud/project/inputs/data/Ex1.csv", header = TRUE, stringsAsFactors = FALSE)

# Figure 1 replication

library(ggplot2)
library(reshape2)
library(ggplot2)
library(readr)
library(dplyr)


data <- data.frame(
  Category = c('Regret', 'Social norms (injunctive)', 'Social norms (descriptive)', 'Negative affect'),
  Smith_Routine = c(7.9, 4.7, 90.6, 7.3),
  Jones_Exception = c(92.1, 95.3, 9.4, 92.7)
)

long_data <- melt(data, id.vars = 'Category', variable.name = 'Group', value.name = 'Percentage')

fig1 <- ggplot(long_data, aes(x = Category, y = Percentage, fill = Group)) +
  geom_bar(stat = 'identity', position = 'dodge') +
  scale_fill_grey(start = 0.8, end = 0.2) + # Adjust the grey scale to match the example
  theme_minimal() +
  labs(
    fill = "", 
    x = "",    
    y = ""     
  ) +
  theme(
    legend.position = "bottom", 
    axis.text.x = element_text(angle = 45, hjust = 1), # Rotate x-axis labels if necessary
    plot.title = element_text(hjust = 0.5) # Center the plot title if you add one
  )
fig1
```

## Car accident scenario

Figure 2 is a replication of Figure 2 in the original paper, and shows the Proportions for perceived regret and luck.This graph compares the relationship between regret and luck, with 81% of 277 respondents believing that Mr. White, who had just changed to a new route home and experienced an accident, would feel more regretful.As for luck, Mr. White (exception) was considered less lucky than Mr. Adams (routine), with 114 participants (33%) viewing Mr. Adams as less lucky, whereas 228 (66%) perceived Mr. White to be less lucky.


```{r fig2, echo=FALSE, warning=FALSE, message=FALSE, fig.cap="Proportions for perceived regret and luck"}

library(ggplot2)
library(reshape2)

df <- read.csv("/cloud/project/inputs/data/table2.csv", header = TRUE, stringsAsFactors = FALSE)

df_clean <- df[, -c(2, 4)]
names(df_clean) <- c("Category", "Regret", "Luck")

df_melted <- melt(df_clean, id.vars = "Category", variable.name = "Outcome", value.name = "Percentage")

fig2 <- ggplot(df_melted, aes(x = Outcome, y = Percentage, fill = Category)) +
  geom_bar(stat = "identity", position = position_dodge(width = 0.7)) +
  scale_fill_manual(values=c("Routine Adams" = "black", "Exception White" = "grey")) +
  labs(x = "", y = "Percentage", fill = "") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1),
        legend.position = "bottom")

fig2
```



Figure 3 In the first graph, we can observe two distributions corresponding to the compensation under routine behavior conditions and exception conditions. The compensation amounts are represented on a scale from 0 to 10, which might indicate a range from $0 to $1,000,000. Under the routine behavior condition, the data distribution appears to be more concentrated, suggesting that most participants' compensation amounts were relatively close to each other, and the median seems to be near the middle value of the scale. Under the exception condition, the distribution of compensation data is broader, indicating a greater variance in the participants' assessments of the compensation amount.

The second graph illustrating the distribution of reported regret under routine and exception conditions.In the routine condition, the distribution of regret is narrower and more concentrated around the lower end of the scale, suggesting that participants generally felt less regret for the routine situation. The median regret rating, indicated by the horizontal line inside the violin plot, appears to be below the midpoint of the scale.In the exception condition, the regret distribution is wider at the top, indicating that there is a greater variance in how much regret participants felt, with more reports of higher levels of regret. The median regret rating in this condition is higher than in the routine condition, as seen by its position above the midpoint of the scale.


```{r fig3, echo=FALSE, warning=FALSE, message=FALSE, fig.cap="compensation and reported regret "}


data <- read.csv("/cloud/project/inputs/data/osf-past-normality-regret-replication-exp1-data.csv", header = TRUE, stringsAsFactors = FALSE, fileEncoding = "UTF-8-BOM")
data$Sc1_regret <- factor(data$Sc1_regret, levels = c(1,2), ordered = TRUE, labels = c("Exception Jones", "Routine Smith"))
data$sc1_socnorms1 <- factor(data$sc1_socnorms1, levels = c(1,2), ordered = TRUE, labels = c("Exception Jones", "Routine Smith"))
data$sc1_socnorms2 <- factor(data$sc1_socnorms2, levels = c(1,2), ordered = TRUE, labels = c("Exception Jones", "Routine Smith"))
data$sc1_combinednorms <- factor(data$sc1_combinednorms, levels = c(1,2), ordered = TRUE, labels = c("Exception Jones", "Routine Smith"))

data$Sc3condition1 <- NA
data$compensationagg1 <- NA
data$regretagg1 <- NA

data <- transform(data, Sc3condition1 = ifelse(!is.na(Sc3_C1_text), 1, ifelse(!is.na(Sc3_C2_text) | !is.na(Sc3_C3_text), 2, NA)),
                  compensationagg1 = ifelse(!is.na(Sc3_C1_text), sc3_c1_compensation, ifelse(!is.na(Sc3_C2_text), sc3_c2_compensation, ifelse(!is.na(Sc3_C3_text), sc3_c3_compensation, NA))),
                  regretagg1 = ifelse(!is.na(Sc3_C1_text), sc3_c1_regret, ifelse(!is.na(Sc3_C2_text), sc3_c2_regret, ifelse(!is.na(Sc3_C3_text), sc3_c3_regret, NA))))

data$Sc3conditionl1 <- factor(data$Sc3condition1, levels = c(1, 2), labels = c("Routine", "Exception"))

data$compensationaggrecoded1 <- data$compensationagg1 - 1
data$regretaggrecoded1 <- data$regretagg1 + 1

ggplot(data, aes(x = Sc3conditionl1, y = compensationaggrecoded1)) + 
  geom_violin(trim = FALSE) + 
  geom_jitter(shape = 16, position = position_jitter(height = 0.1, width = 0.2)) + 
  theme_apa() +
  labs(x = "Condition", y = "Compensation") +
  scale_y_continuous(minor_breaks = seq(-10, 15, 5)) +
  stat_summary(fun.data = mean_se, geom = "errorbar", position = position_dodge(width = 0.9), width = 0.2) +
  stat_summary(fun.y = mean, geom = "point", shape = 18, size = 3)

ggplot(data, aes(x = Sc3conditionl1, y = regretaggrecoded1)) + 
  geom_violin(trim = FALSE) + 
  geom_jitter(shape = 16, position = position_jitter(height = 0.1, width = 0.2)) + 
  theme_apa() +
  labs(x = "Condition", y = "Regret") +
  stat_summary(fun.data = mean_se, geom = "errorbar", position = position_dodge(width = 0.9), width = 0.2) +
  stat_summary(fun.y = mean, geom = "point", shape = 18, size = 3)

```


# Discussion



## Why is the birth rate declining? - Demographic insights




## Cohort effects - attitudes of a new generation



 

## The Digital Revolution and Third Wave Feminism



## The decline of birth rates - not an effect of the Great Recession?


# Conclusion



## Weaknesses and next steps


\newpage


# References
